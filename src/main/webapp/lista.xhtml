<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Biblioteca de Músicas</title>
</h:head>
<h:outputStylesheet name="bootstrap/css/bootstrap.css" />
<h:outputStylesheet name="css/stylesheet.css" />
<h:outputStylesheet name="css/dashboard.css" />
<h:outputScript name="bootstrap/js/bootstrap.js" />
<h:outputStylesheet name="css/font-awesome.css" />
<h:body>
	<ui:insert name="header">
		<ui:include src="templates/default/leftMenu.xhtml" />
	</ui:insert>
	<h:form>
		<center>
			<p:outputLabel for="advanced"
				value="Selecione as músicas cadastradas para ter maiores informações:" />
			<p:selectOneListbox id="advanced" value="#{musicaController.musica}"
				converter="#{musicaConverter}" var="m" filter="true"
				filterMatchMode="contains">

				<f:selectItems value="#{musicaController.musicas}" var="musica"
					itemLabel="#{musica.tituloMusica}" itemValue="#{musica}" >
					
					</f:selectItems>
					<p:ajax listener="#{musicaController.mudouMusica}" execute="@form" render="advanced"></p:ajax>
				<p:column>
					<h:outputText value="#{m.tituloMusica}" />
				</p:column>
			</p:selectOneListbox>
			
			<p:commandButton value="Alterar" 
				action="#{musicaController.addMusica}" icon="ui-icon-check"
				>
			</p:commandButton>
			<p:commandButton value="Excluir"
				action="#{musicaController.removerMusica}" update="advanced" icon="ui-icon-check">
			
			</p:commandButton>
		</center>
	<!--  <p:ajax  update="advanced"></p:ajax> -->
		<!--  	<h:commandButton value="Alterar" ajax="false"
				action="" icon="ui-icon-check">
			</h:commandButton>
			<h:commandButton value="Excluir" ajax="false"
				action="" icon="ui-icon-check">
			</h:commandButton>-->
	</h:form>
</h:body>
</html>
